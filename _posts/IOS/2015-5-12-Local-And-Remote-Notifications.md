---
layout: post
title: IOS通知编程指南
category: IOS
tags: IOS Notification
keywords:
description:
---

### Notification Introduction ###
    
#### 关于本地通知和远程通知 ####

本地通知和远程通知是用户通知中的两种类型（远程通知又名推送通知）。两种通知都可以使后台的应用程序来告诉用户有新的消息。这些新的消息可以是一段文本消息，也可以是一个日历事件还可以是远程服务器发送来的数据。本地通知和远程通知看起来是一样的。它们都可以展示一段警示消息，改变应用程序图标，还可以在改变应用程序图标上的数字的时候来播放一段声音。  

值得注意的是，远程通知和本地通知是跟广播通知（NSNotificationCenter）和键值观察通知是不一回事。   
#### 注册，计划，处理本地和远程通知 ####

为了使之后的一段时间提交一个本地通知，应用程序需要注册通知类型（IOS8及其以后），创建本地通知，给它标记一个执行的日期和时间，特殊的展示细节。并按照计划提交它。为了接收远程通知，应用程序必须注册通知类型，然后把操作系统中收集到的设备口令提供给服务器。  

当操作系统提交一个本地和远程的通知，并且目标应用程序没有在前台运行，它仍然可以通过警告框，应用图标数字，或者声音把通知呈现在用户面前。如果有一个通知以警告框对方式出现在用户面前，用户点击了其中的按钮，应用程序会调用本地相关的方法。  

#### 苹果推送通知服务 ####

苹果推送通知服务（APNs）传送远程通知到有相关应用程序并且注册这些通知类型的设备。每个设备都会建立服务器任何的加密的IP连接，并在此永久连接上接收通知。  

苹果推送服务有一个反馈服务，这个反馈服务器一直维持一个发送推送通知失败的设备列表。周期性的，通知提供者需要连接到反馈服务器上来查看哪些设备无法接收通知。  


### 深度解读本地和远程通知 ###

当你的应用程序在最前面时，收到一个本地的或者远程的通知时，应用程序代理会调用
application:didReceiveRemoteNotification: 或 application:didReceiveLocalNotification:。如果应用程序在后台时，你可以通过检查方法application:didFinishLaunchingWithOptions: 中的options字典中的UIApplicationLaunchOptionsLocalNotificationKey or UIApplicationLaunchOptionsRemoteNotificationKey这两个key值来处理通知。  

#### 本地通知 ####

本地通知特别适合基于时间的一些行为，例如日历，to－do列表类应用程序。





